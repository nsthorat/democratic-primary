
<style>
  body {
    font-family: 'Source Sans Pro', sans-serif;
    font-weight: 200;
    font-size: 1.2rem;
  }
  #content {
    width: 500px;
    margin: 30px 2rem;
  }
  #start {
    font-size: 1.4rem;
    margin-bottom: 50px;
  }

  #winner {
    font-size: 1.7rem;
    margin-bottom: 25px;
    font-weight: 400;
  }
  #winners {
    margin-bottom: 15px;
  }
  #config {
    margin-bottom: 40px;
  }
  .header {
    font-weight: 400;
    font-size: 1.4rem;
  }
  .runnerup {
    margin: 6px 0px;
  }
  .problems {
    font-size: 1.4rem;
  }
  #bydate, #byrating {
    text-decoration: underline;
    font-size: .8rem;
    cursor: pointer;
  }
  .selected {
    font-weight: bold;
    text-decoration: none !important;
    cursor: auto !important;
  }
  .tc {
    display: table-cell;
    padding: 0 4px;
  }
  .tr {
    display: table-row;
  }
  .selected-polls {
    margin-left: 2rem;
    font-size: .7rem;
  }
</style>
<title>who beats trump in swing states?</title>
<div id="content">
  <div id="start">
    Who to vote for in the primary, ranked by who is likely to beat
    Trump in swing states.
  </div>
  <div id="winner">loading...</div>
  <div id="winners"></div>
  <div id="config">
    <div id="bydate" class="selected">by most recent poll</div>
    <div id="byrating">by best rated poll</div>
  </div>

  <div id="how">
    <div class="header">how is the score computed?</div>
    <div>
      <p>
      For each candidate look at how they're doing in rated general election polls against Trump from
      <a href="https://projects.fivethirtyeight.com/polls/president-general">FiveThirtyEight</a>
      for each swing state. If there is no poll for a candidate for the state, assume an even split (50/50).
      We chose a single poll for each state for each candidate, either the most recent one or the poll with
      the highest rating on 538.
      </p>
      <p>
      Take the favored poll percentage, multiply it by the number of delegates
      for each swing state. Sum them for each candidate and that is their score.
      </p>
    </div>
    <div class="header">swing states & delegates</div>
    <div>
      <p id="swingstates"></p>
    </div>
    </div>
    <div class="header">problems</div>
    <div>
      <p>
        We only choose a single poll. Maybe there's some solution that looks at
        all of them and weights them, but now we're deep in heuristics land.
      </p>
      <p>
        Obviously polls have issues. See 2016.
      </p>
      <a href="https://github.com/nsthorat/democratic-primary">Code</a>
       <p>
      Made by <a href="https://twitter.com/nsthorat">Nikhil Thorat</a>
      </p>
    </div>
  </div>

</div>
<div class="selected-polls">
  <div class="header">selected polls</div>
  <p id="polls"></p>
</div>


<script src="index.ts"></script>
